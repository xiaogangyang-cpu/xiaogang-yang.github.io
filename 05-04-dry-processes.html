<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å·¥ç¨‹ä¼ è´¨èƒ½åŠ›è¿›é˜¶è®­ç»ƒ - ä¸‰å…³ç‰ˆ</title>
    <style>
        :root {
            --primary: #1a73e8;
            --primary-light: #4285f4;
            --primary-dark: #0d47a1;
            --secondary: #00bcd4;
            --accent: #00ff88;
            --danger: #ff5252;
            --warning: #ffc107;
            --success: #4caf50;
            --dark: #0a1929;
            --gray-800: #1e293b;
            --gray-700: #334155;
            --gray-600: #475569;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, #102a43 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* æ ‡é¢˜åŒºåŸŸ */
        .header {
            text-align: center;
            margin-bottom: 10px;
            padding: 20px;
            background: linear-gradient(90deg, rgba(26, 115, 232, 0.2) 0%, rgba(0, 188, 212, 0.2) 100%);
            border-radius: 16px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(66, 133, 244, 0.3);
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 5px;
            background: linear-gradient(90deg, #1a73e8, #00bcd4);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 500;
        }
        
        .header p {
            color: #cbd5e1;
            font-size: 1.0rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* å…³å¡å¯¼èˆª */
        .level-nav {
            display: flex;
            background: var(--gray-800);
            border-radius: 12px;
            margin-bottom: 5px;
            overflow: hidden;
            border: 1px solid var(--gray-700);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .nav-item {
            flex: 1;
            text-align: center;
            padding: 10px 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            font-weight: 600;
            color: #94a3b8;
        }
        
        .nav-item:hover {
            background: rgba(26, 115, 232, 0.1);
            color: #e2e8f0;
        }
        
        .nav-item.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.1);
        }
        
        .nav-label {
            font-size: 1.1rem;
        }
        
        .nav-subtitle {
            font-size: 0.85rem;
            opacity: 0.8;
            margin-top: 4px;
        }
        
        /* å†…å®¹åŒºåŸŸ */
        .content-area {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 14px;
            padding: 30px;
            border: 1px solid var(--gray-700);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            margin-bottom: 10px;
            display: none;
        }
        
        .content-area.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .level-title {
            font-size: 2rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00bcd4, var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .level-description {
            color: #cbd5e1;
            font-size: 1.1rem;
            margin-bottom: 25px;
            line-height: 1.7;
        }
        
        /* ç”Ÿæ´»æ¡ˆä¾‹åŒº */
        .analogy-section {
            background: rgba(10, 25, 41, 0.7);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(66, 133, 244, 0.2);
        }
        
        .analogy-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .analogy-tab {
            padding: 10px 20px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            border: 1px solid transparent;
        }
        
        .analogy-tab:hover {
            border-color: var(--primary-light);
        }
        
        .analogy-tab.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-color: var(--primary-light);
        }
        
        .analogy-content {
            display: none;
        }
        
        .analogy-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .analogy-visual {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 0px;
        }
        
        .analogy-image {
            flex: 1;
            min-height: 200px;
            background: linear-gradient(135deg, rgba(26, 115, 232, 0.1), rgba(0, 188, 212, 0.1));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            border: 2px dashed rgba(66, 133, 244, 0.3);
        }
        
        .analogy-principles {
            flex: 1.2;
        }
        
        .principle-list {
            list-style: none;
        }
        
        .principle-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .principle-list li:last-child {
            border-bottom: none;
        }
        
        .principle-icon {
            font-size: 1.5rem;
            width: 40px;
            text-align: center;
        }
        
        /* æ¨¡æ‹ŸåŒºåŸŸ */
        .simulation-area {
            background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 10px;
            border: 1px solid rgba(66, 133, 244, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .simulation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .simulation-title {
            font-size: 1.3rem;
            color: var(--accent);
        }
        
        .simulation-status {
            color: #94a3b8;
            font-weight: 600;
        }
        
        /* é£é€Ÿä¸ç®­å¤´æ˜¾ç¤º */
        .air-flow-display {
            position: relative;
            height: 80px;
            background: rgba(10, 25, 41, 0.7);
            border-radius: 8px;
            margin-bottom: 10px;
            overflow: hidden;
            border: 1px solid rgba(66, 133, 244, 0.2);
        }
        
        .air-flow-direction {
            position: absolute;
            top: 50%;
            width: 180%;
            height: 60px;
            transform: translateY(-50%);
        }
        
        .flow-arrow {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            color: var(--accent);
            font-size: 40px;
            filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.5));
            z-index: 2;
        }
        
        .flow-text {
            position: absolute;
            top: 20px;
            width: 60%;
            text-align: center;
            color: #94a3b8;
            font-size: 1.1rem;
        }
        
        /* æç‰‡æ¨¡æ‹Ÿ */
        .electrode-container {
            position: relative;
            height: 150px;
            background: rgba(30, 41, 59, 0.9);
            border-radius: 12px;
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .electrode-strip {
            width: 100%;
            height: 50px;
            background: linear-gradient(90deg, #2d3748, #4a5568);
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            border: 2px solid #4a5568;
        }
        
        .solvent-layer {
            height: 100%;
            background: linear-gradient(90deg, #00bcd4 0%, #0d47a1 100%);
            transition: width 0.5s ease;
            position: relative;
        }
        
        .solvent-layer::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 20px;
            height: 100%;
            background: linear-gradient(90deg, rgba(0, 188, 212, 0.5), transparent);
        }
        
        /* æ§åˆ¶é¢æ¿ */
        .control-panel {
            background: rgba(30, 41, 59, 0.9);
            border-radius: 12px;
            padding: 30px;
            border: 1px solid rgba(66, 133, 244, 0.3);
            margin-bottom: 30px;
        }
        
        .formula-display {
            background: rgba(10, 25, 41, 0.9);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            color: var(--accent);
            font-size: 1.2rem;
            text-align: center;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 255, 136, 0.2);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.1);
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-label {
            display: block;
            margin-bottom: 10px;
            color: #e2e8f0;
            font-weight: 600;
        }
        
        .slider-container {
            position: relative;
            margin-bottom: 15px;
        }
        
        .slider-value {
            position: absolute;
            right: 0;
            top: -25px;
            color: var(--accent);
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        input[type="range"] {
            width: 100%;
            height: 10px;
            -webkit-appearance: none;
            background: linear-gradient(to right, var(--success), var(--warning), var(--danger));
            border-radius: 5px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary-light);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 0 10px rgba(26, 115, 232, 0.8);
        }
        
        .mode-selector {
            display: flex;
            gap: 15px;
            margin: 25px 0;
        }
        
        .mode-btn {
            flex: 1;
            padding: 15px 20px;
            background: rgba(30, 41, 59, 0.9);
            border: 2px solid rgba(66, 133, 244, 0.3);
            border-radius: 8px;
            color: #cbd5e1;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            text-align: center;
        }
        
        .mode-btn:hover {
            border-color: var(--primary-light);
            color: white;
        }
        
        .mode-btn.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-color: var(--primary-light);
            color: white;
        }
        
        /* æ“ä½œæŒ‰é’® */
        .action-buttons {
            display: flex;
            gap: 20px;
            margin-top: 30px;
        }
        
        .action-btn {
            flex: 1;
            padding: 18px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(26, 115, 232, 0.4);
        }
        
        .btn-secondary {
            background: rgba(30, 41, 59, 0.9);
            color: #cbd5e1;
            border: 2px solid rgba(66, 133, 244, 0.3);
        }
        
        .btn-secondary:hover {
            border-color: var(--primary-light);
            color: white;
        }
        
        /* ç¬¬äºŒå…³ï¼šç“¶é¢ˆåˆ†æ - å››ä¸ªå‚æ•°åœ¨åŒä¸€è¡Œ */
        .bottleneck-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .bottleneck-item {
            flex: 1;
            background: rgba(30, 41, 59, 0.9);
            padding: 5px;
            border-radius: 12px;
            border-left: 4px solid;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .bottleneck-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .bottleneck-item.active {
            background: rgba(26, 115, 232, 0.2);
            border-left-color: var(--accent);
        }
        
        .bottleneck-item.critical {
            background: rgba(255, 82, 82, 0.1);
            border-left-color: var(--danger);
            animation: pulse 2s infinite;
        }
        
        .bottleneck-name {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: #e2e8f0;
        }
        
        .bottleneck-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .bottleneck-description {
            color: #94a3b8;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        /* ç¬¬ä¸‰å…³ï¼šä¼˜åŒ–å¸ƒå±€ */
        .system-layout-compact {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .mode-section-compact {
            background: rgba(10, 25, 41, 0.7);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(66, 133, 244, 0.3);
        }
        
        .progress-section-compact {
            background: rgba(10, 25, 41, 0.7);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(66, 133, 244, 0.3);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .mode-display-compact {
            text-align: center;
            margin-top: 15px;
        }
        
        .mode-icon-compact {
            font-size: 3rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .mode-description-compact {
            color: #94a3b8;
            font-size: 0.9rem;
            line-height: 1.6;
            margin-top: 10px;
        }
        
        .progress-stats-compact {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        
        .stat-item-compact {
            background: rgba(30, 41, 59, 0.9);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(66, 133, 244, 0.2);
        }
        
        .stat-value-compact {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 8px 0;
            color: var(--accent);
        }
        
        .stat-label-compact {
            color: #94a3b8;
            font-size: 0.8rem;
        }
        
        /* ç¬¬ä¸‰å…³æ»‘å—ç´§å‡‘å¸ƒå±€ */
        .control-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .control-column {
            flex: 1;
        }
        
        /* è¯„æµ‹ç¯èŠ‚æ ·å¼ */
        .evaluation-toggle {
            display: none;
            margin: 30px auto 0;
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: 600;
            background: linear-gradient(135deg, rgba(0, 188, 212, 0.2), rgba(0, 255, 136, 0.2));
            color: var(--accent);
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .evaluation-toggle:hover {
            background: linear-gradient(135deg, rgba(0, 188, 212, 0.3), rgba(0, 255, 136, 0.3));
            border-color: var(--accent);
            transform: translateY(-3px);
        }
        
        .evaluation-section {
            background: rgba(10, 25, 41, 0.9);
            border-radius: 16px;
            padding: 40px;
            margin-top: 40px;
            border: 2px solid rgba(66, 133, 244, 0.4);
            box-shadow: 0 0 40px rgba(26, 115, 232, 0.3);
            display: none;
        }
        
        .evaluation-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .evaluation-title {
            font-size: 2rem;
            margin-bottom: 30px;
            background: linear-gradient(90deg, #00bcd4, #00ff88);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-align: center;
        }
        
        .question-card {
            background: rgba(30, 41, 59, 0.9);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(66, 133, 244, 0.3);
        }
        
        .question-number {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            text-align: center;
            line-height: 36px;
            font-weight: 700;
            margin-right: 15px;
        }
        
        .question-text {
            display: inline;
            font-size: 1.2rem;
            color: #e2e8f0;
            font-weight: 600;
        }
        
        .options-container {
            margin-top: 25px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .option {
            background: rgba(10, 25, 41, 0.7);
            border: 2px solid rgba(66, 133, 244, 0.2);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        
        .option:hover {
            border-color: rgba(0, 188, 212, 0.5);
            background: rgba(0, 188, 212, 0.1);
        }
        
        .option.selected {
            border-color: var(--accent);
            background: rgba(0, 255, 136, 0.1);
        }
        
        .option.correct {
            border-color: var(--success);
            background: rgba(76, 175, 80, 0.1);
        }
        
        .option.incorrect {
            border-color: var(--danger);
            background: rgba(255, 82, 82, 0.1);
        }
        
        .option-letter {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, rgba(66, 133, 244, 0.2), rgba(0, 188, 212, 0.2));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--primary-light);
        }
        
        .option.selected .option-letter {
            background: linear-gradient(135deg, var(--accent), #00cc80);
            color: white;
        }
        
        .submit-btn {
            display: block;
            margin: 40px auto;
            padding: 18px 50px;
            font-size: 1.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .submit-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(26, 115, 232, 0.4);
        }
        
        .result-container {
            display: none;
            text-align: center;
            padding: 40px;
            background: rgba(30, 41, 59, 0.9);
            border-radius: 16px;
            border: 2px solid rgba(66, 133, 244, 0.4);
            margin-top: 30px;
            animation: fadeIn 0.8s ease;
        }
        
        .result-container.active {
            display: block;
        }
        
        .result-score {
            font-size: 4rem;
            font-weight: 700;
            margin: 20px 0;
            background: linear-gradient(90deg, #00bcd4, var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .action-buttons-evaluation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }
        
        .btn-evaluation {
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-retry {
            background: rgba(30, 41, 59, 0.9);
            color: #cbd5e1;
            border: 2px solid rgba(66, 133, 244, 0.3);
        }
        
        .btn-continue {
            background: linear-gradient(135deg, var(--accent), #00cc80);
            color: var(--dark);
            font-weight: 700;
        }
        
        /* åŠ¨ç”» */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 82, 82, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 82, 82, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 82, 82, 0); }
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1024px) {
            .bottleneck-container {
                flex-wrap: wrap;
            }
            
            .bottleneck-item {
                flex: 1 1 calc(50% - 20px);
            }
            
            .system-layout-compact {
                grid-template-columns: 1fr;
            }
            
            .control-row {
                flex-direction: column;
                gap: 15px;
            }
        }
        
        @media (max-width: 768px) {
            .bottleneck-container {
                flex-direction: column;
            }
            
            .analogy-visual {
                flex-direction: column;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .progress-stats-compact {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <div class="header">
            <h1>å·¥ç¨‹ä¼ è´¨èƒ½åŠ›è¿›é˜¶è®­ç»ƒ</h1>
            <p>ä»ç”Ÿæ´»ç°è±¡åˆ°å·¥ä¸šåº”ç”¨ï¼Œæ·±å…¥ç†è§£å¯¹æµä¼ è´¨åŸç†ï¼ŒæŒæ¡å·¥ç¨‹ä¼˜åŒ–æ–¹æ³•</p>
        </div>
        
        <!-- å…³å¡å¯¼èˆª -->
        <div class="level-nav">
            <div id="nav1" class="nav-item active">
                <div class="nav-label">L1: ç”Ÿæ´»æ¡ˆä¾‹</div>
                <div class="nav-subtitle">æ—¥å¸¸ç”Ÿæ´»ä¸­çš„ä¼ è´¨ç°è±¡</div>
            </div>
            <div id="nav2" class="nav-item">
                <div class="nav-label">L2: ç“¶é¢ˆåˆ†æ</div>
                <div class="nav-subtitle">è¯†åˆ«ä¼ è´¨é™åˆ¶æ­¥éª¤</div>
            </div>
            <div id="nav3" class="nav-item">
                <div class="nav-label">L3: ç³»ç»Ÿè®¾è®¡</div>
                <div class="nav-subtitle">å·¥ä¸šä¼ è´¨ç³»ç»Ÿä¼˜åŒ–</div>
            </div>
        </div>
        
        <!-- ç¬¬ä¸€å…³ï¼šç”Ÿæ´»æ¡ˆä¾‹ -->
        <div id="level1" class="content-area active">
            <h2 class="level-title">ç¬¬ä¸€å…³ï¼šç”Ÿæ´»ä¸­çš„å¯¹æµä¼ è´¨</h2>
            <p class="level-description">
                è§‚å¯Ÿæ—¥å¸¸ç”Ÿæ´»ä¸­çš„ä¼ è´¨ç°è±¡ï¼Œç†è§£é£é€Ÿã€æ¸©åº¦å’Œæµ“åº¦å·®å¯¹ä¼ è´¨é€Ÿç‡çš„å½±å“ã€‚ä»æ™¾æ™’è¡£ç‰©åˆ°å’–å•¡å¹²ç‡¥ï¼Œæ¢ç´¢ä¼ è´¨åŸç†åœ¨ç”Ÿæ´»ä¸­çš„åº”ç”¨ã€‚
            </p>
            
            <!-- ç”Ÿæ´»æ¡ˆä¾‹åŒº -->
            <div class="analogy-section">
                <div class="analogy-tabs">
                    <div class="analogy-tab active" onclick="switchAnalogy('clothes')">ğŸ‘• æ™¾æ™’è¡£ç‰©</div>
                    <div class="analogy-tab" onclick="switchAnalogy('coffee')">â˜• å’–å•¡å¹²ç‡¥</div>
                    <div class="analogy-tab" onclick="switchAnalogy('bathroom')">ğŸ› æµ´å®¤é™¤æ¹¿</div>
                </div>
                
                <!-- æ™¾æ™’è¡£ç‰©æ¡ˆä¾‹ -->
                <div id="analogy-clothes" class="analogy-content active">
                    <div class="analogy-visual">
                        <div class="analogy-image">
                            <div style="font-size: 5rem;">ğŸ‘•</div>
                        </div>
                        <div class="analogy-principles">
                            <h4>ä¼ è´¨åŸç†åˆ†æï¼š</h4>
                            <ul class="principle-list">
                                <li><span class="principle-icon">ğŸŒ¬ï¸</span> é£é€Ÿå¢åŠ  â†’ ç©ºæ°”è¾¹ç•Œå±‚å˜è–„ â†’ ä¼ è´¨åŠ å¿«</li>
                                <li><span class="principle-icon">ğŸŒ¡ï¸</span> æ¸©åº¦å‡é«˜ â†’ æ°´åˆ†å­åŠ¨èƒ½å¢åŠ  â†’ è’¸å‘åŠ å¿«</li>
                                <li><span class="principle-icon">ğŸ’§</span> æ¹¿åº¦é™ä½ â†’ æµ“åº¦å·®å¢å¤§ â†’ æ¨åŠ¨åŠ›å¢å¼º</li>
                                <li><span class="principle-icon">ğŸ“</span> è¡¨é¢ç§¯å¢å¤§ â†’ ä¼ è´¨é¢ç§¯å¢åŠ  â†’ æ€»ä¼ è´¨é€Ÿç‡æé«˜</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- æ¨¡æ‹ŸåŒº -->
                    <div class="simulation-area">
                        <div class="simulation-header">
                            <h3 class="simulation-title">è¡£ç‰©å¹²ç‡¥è¿‡ç¨‹æ¨¡æ‹Ÿ</h3>
                            <div class="simulation-status" id="clothes-status">å°±ç»ª</div>
                        </div>
                        
                        <!-- é£é€Ÿä¸ç®­å¤´æ˜¾ç¤º -->
                        <div class="air-flow-display">
                            <div class="air-flow-direction">
                                <div id="clothes-arrow" class="flow-arrow">â¡</div>
                                <div class="flow-text" id="clothes-flow-text">é£é€Ÿ: 2.0 m/s</div>
                            </div>
                        </div>
                        
<!-- è¡£ç‰©æ¹¿åº¦æ˜¾ç¤º -->
<div class="electrode-container">
    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; color: #94a3b8;">
        <div style="font-weight: 600;">è¡£ç‰©æ¹¿åº¦: <span id="clothes-moisture" style="color: var(--accent); font-size: 1.3rem; font-weight: bold;">100%</span></div>
        <div style="font-weight: 600;">å¹²ç‡¥è¿›åº¦</div>
    </div>
    <div class="electrode-strip">
        <div id="clothes-solvent" class="solvent-layer" style="width: 100%"></div>
    </div>
</div>
                        
                        <!-- æ§åˆ¶é¢æ¿ -->
                        <div class="control-panel">
                            <div class="formula-display" id="clothes-formula">
                                N = k Â· (Câ‚ - Câ‚‚)
                            </div>
                            
                            <div class="control-group">
                                <label class="control-label">é£é€Ÿè°ƒèŠ‚ (m/s)</label>
                                <div class="slider-container">
                                    <div id="clothes-wind-value" class="slider-value">2.0</div>
                                    <input type="range" id="clothes-wind-slider" min="0.1" max="5.0" step="0.1" value="2.0">
                                </div>
                            </div>
                            
                            <div class="control-group">
                                <label class="control-label">ç¯å¢ƒæ¸©åº¦ (Â°C)</label>
                                <div class="slider-container">
                                    <div id="clothes-temp-value" class="slider-value">25</div>
                                    <input type="range" id="clothes-temp-slider" min="10" max="40" step="1" value="25">
                                </div>
                            </div>
                            
                            <div class="control-group">
                                <label class="control-label">ç¯å¢ƒæ¹¿åº¦ (%)</label>
                                <div class="slider-container">
                                    <div id="clothes-humidity-value" class="slider-value">50</div>
                                    <input type="range" id="clothes-humidity-slider" min="10" max="90" step="1" value="50">
                                </div>
                            </div>
                            
                            <div class="action-buttons">
                                <button id="clothes-start-btn" class="action-btn btn-primary" onclick="startClothesSim()">
                                    <span>â–¶</span>
                                    <span>å¼€å§‹æ¨¡æ‹Ÿ</span>
                                </button>
                                <button class="action-btn btn-secondary" onclick="resetClothesSim()">
                                    <span>â†º</span>
                                    <span>é‡ç½®</span>
                                </button>
                            </div>
                            
                            <div id="clothes-result" style="text-align: center; margin-top: 20px; color: #94a3b8; display: none;">
                                <div id="clothes-drying-rate">å¹²ç‡¥é€Ÿç‡: 0 g/mÂ²Â·s</div>
                                <div id="clothes-time">å¹²ç‡¥æ—¶é—´: 0 s</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- å’–å•¡å¹²ç‡¥æ¡ˆä¾‹ -->
                <div id="analogy-coffee" class="analogy-content">
                    <div class="analogy-visual">
                        <div class="analogy-image">
                            <div style="font-size: 5rem;">â˜•</div>
                        </div>
                        <div class="analogy-principles">
                            <h4>ä¼ è´¨åŸç†åˆ†æï¼š</h4>
                            <ul class="principle-list">
                                <li><span class="principle-icon">ğŸ”¥</span> å–·é›¾å¹²ç‡¥ â†’ å¢å¤§æ¯”è¡¨é¢ç§¯ â†’ ä¼ è´¨é€Ÿç‡æé«˜</li>
                                <li><span class="principle-icon">â±ï¸</span> åœç•™æ—¶é—´ä¼˜åŒ– â†’ å……åˆ†å¹²ç‡¥ â†’ äº§å“è´¨é‡ç¨³å®š</li>
                                <li><span class="principle-icon">ğŸŒ¡ï¸</span> æ¸©åº¦æ§åˆ¶ â†’ é˜²æ­¢è¿‡çƒ­ç„¦åŒ– â†’ ä¿æŒé£å‘³</li>
                                <li><span class="principle-icon">ğŸ’¨</span> æ°”æµç»„ç»‡ â†’ å‡åŒ€å¹²ç‡¥ â†’ é¿å…ç»“å—</li>
                            </ul>
                        </div>
                    </div>
                                        <div style="text-align: center; padding: 40px; color: #94a3b8;">
                        â˜• å’–å•¡å¹²ç‡¥æ¨¡æ‹Ÿï¼ˆå¼€å‘ä¸­ï¼‰
                    </div>
                </div>
                
                <!-- æµ´å®¤é™¤æ¹¿æ¡ˆä¾‹ -->
                <div id="analogy-bathroom" class="analogy-content">
                    <div class="analogy-visual">
                        <div class="analogy-image">
                            <div style="font-size: 5rem;">ğŸ›</div>
                        </div>
                        <div class="analogy-principles">
                            <h4>ä¼ è´¨åŸç†åˆ†æï¼š</h4>
                            <ul class="principle-list">
                                <li><span class="principle-icon">ğŸ’¨</span> æ’é£æ‰‡å¼ºåˆ¶å¯¹æµ â†’ å¸¦èµ°æ¹¿ç©ºæ°” â†’ é™ä½æ¹¿åº¦</li>
                                <li><span class="principle-icon">ğŸŒ¡ï¸</span> æ¸©åº¦å·®é©±åŠ¨è‡ªç„¶å¯¹æµ â†’ ç©ºæ°”å¾ªç¯ â†’ æ°´åˆ†è’¸å‘</li>
                                <li><span class="principle-icon">ğŸ“Š</span> æµ“åº¦æ¢¯åº¦é©±åŠ¨æ‰©æ•£ â†’ é«˜æµ“åº¦å‘ä½æµ“åº¦è¿ç§»</li>
                                <li><span class="principle-icon">ğŸ”„</span> å¤šæ¨¡å¼è€¦åˆ â†’ å¯¹æµ+æ‰©æ•£ â†’ ååŒé™¤æ¹¿</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div style="text-align: center; padding: 40px; color: #94a3b8;">
                        ğŸ› æµ´å®¤é™¤æ¹¿æ¨¡æ‹Ÿï¼ˆå¼€å‘ä¸­ï¼‰
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç¬¬äºŒå…³ï¼šç“¶é¢ˆåˆ†æ -->
        <div id="level2" class="content-area">
            <h2 class="level-title">ç¬¬äºŒå…³ï¼šä¼ è´¨ç“¶é¢ˆåˆ†æ</h2>
            <p class="level-description">
                åˆ†æä¼ è´¨è¿‡ç¨‹ä¸­çš„é™åˆ¶æ­¥éª¤ã€‚ç†è§£æŒ¥å‘ã€å¯¹æµå’Œçƒ­ä¼ å¯¼å¦‚ä½•ç›¸äº’ä½œç”¨ï¼Œè¯†åˆ«å…³é”®ç“¶é¢ˆå¹¶æ‰¾åˆ°ä¼˜åŒ–æ–¹å‘ã€‚
            </p>
            
            <!-- ç“¶é¢ˆåˆ†æåŒº -->
            <div class="simulation-area">
                <div class="simulation-header">
                    <h3 class="simulation-title">ä¼ è´¨è¿‡ç¨‹ç“¶é¢ˆå¯è§†åŒ–</h3>
                    <div class="simulation-status" id="bottleneck-status">å½“å‰ç“¶é¢ˆ: æœªåˆ†æ</div>
                </div>
                
                <!-- å››ä¸ªå‚æ•°åœ¨åŒä¸€è¡Œ -->
                <div class="bottleneck-container">
                    <div class="bottleneck-item" id="bottleneck-evaporation" style="border-left-color: #00bcd4;">
                        <h4 class="bottleneck-name">æŒ¥å‘ä¼ è´¨</h4>
                        <div class="bottleneck-value" id="evaporation-value" style="color: #00bcd4;">0.8</div>
                        <div class="bottleneck-description">
                            æ¶²ä½“è¡¨é¢åˆ°ç©ºæ°”çš„ä¼ è´¨
                        </div>
                    </div>
                    
                    <div class="bottleneck-item active" id="bottleneck-convection" style="border-left-color: #1a73e8;">
                        <h4 class="bottleneck-name">å¯¹æµä¼ è´¨</h4>
                        <div class="bottleneck-value" id="convection-value" style="color: #1a73e8;">0.5</div>
                        <div class="bottleneck-description">
                            ç©ºæ°”æµåŠ¨å¸¦èµ°çš„ä¼ è´¨
                        </div>
                    </div>
                    
                    <div class="bottleneck-item" id="bottleneck-heat" style="border-left-color: #ffc107;">
                        <h4 class="bottleneck-name">çƒ­ä¼ å¯¼</h4>
                        <div class="bottleneck-value" id="heat-value" style="color: #ffc107;">0.9</div>
                        <div class="bottleneck-description">
                            çƒ­é‡ä¼ é€’åˆ°æ¶²ä½“è¡¨é¢
                        </div>
                    </div>
                    
                    <div class="bottleneck-item" id="bottleneck-diffusion" style="border-left-color: #4caf50;">
                        <h4 class="bottleneck-name">å†…éƒ¨æ‰©æ•£</h4>
                        <div class="bottleneck-value" id="diffusion-value" style="color: #4caf50;">0.6</div>
                        <div class="bottleneck-description">
                            æ¶²ä½“å†…éƒ¨æ°´åˆ†å‘è¡¨é¢æ‰©æ•£
                        </div>
                    </div>
                </div>
                
                <!-- æ§åˆ¶é¢æ¿ -->
                <div class="control-panel">
                    <div class="formula-display">
                        æ€»ä¼ è´¨é€Ÿç‡ = min(æŒ¥å‘, å¯¹æµ, çƒ­ä¼ å¯¼, æ‰©æ•£)
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">é£é€Ÿ (å½±å“å¯¹æµä¼ è´¨)</label>
                        <div class="slider-container">
                            <div id="bottleneck-wind-value" class="slider-value">2.0</div>
                            <input type="range" id="bottleneck-wind-slider" min="0.1" max="10.0" step="0.1" value="2.0">
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">è¡¨é¢æ¸©åº¦ (å½±å“æŒ¥å‘)</label>
                        <div class="slider-container">
                            <div id="bottleneck-temp-value" class="slider-value">60</div>
                            <input type="range" id="bottleneck-temp-slider" min="20" max="120" step="1" value="60">
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">æ¶²ä½“ç²˜åº¦ (å½±å“æ‰©æ•£)</label>
                        <div class="slider-container">
                            <div id="bottleneck-viscosity-value" class="slider-value">0.5</div>
                            <input type="range" id="bottleneck-viscosity-slider" min="0.1" max="2.0" step="0.1" value="0.5">
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn btn-primary" onclick="analyzeBottleneck()">
                            <span>ğŸ”</span>
                            <span>åˆ†æç“¶é¢ˆ</span>
                        </button>
                        <button class="action-btn btn-secondary" onclick="resetBottleneck()">
                            <span>â†º</span>
                            <span>é‡ç½®</span>
                        </button>
                    </div>
                    
                    <div id="bottleneck-result" style="text-align: center; margin-top: 20px; padding: 15px; background: rgba(0, 188, 212, 0.1); border-radius: 8px; border: 1px solid rgba(0, 188, 212, 0.3); display: none;">
                        <div style="font-weight: bold; color: #00bcd4;" id="bottleneck-message">å½“å‰é™åˆ¶æ­¥éª¤: å¯¹æµä¼ è´¨</div>
                        <div style="font-size: 0.9rem; color: #94a3b8; margin-top: 5px;" id="bottleneck-suggestion">å»ºè®®æé«˜é£é€Ÿä»¥æ”¹å–„å¯¹æµä¼ è´¨</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç¬¬ä¸‰å…³ï¼šç³»ç»Ÿè®¾è®¡ -->
        <div id="level3" class="content-area">
            <h2 class="level-title">ç¬¬ä¸‰å…³ï¼šç”µæ± æç‰‡å¹²ç‡¥ç³»ç»Ÿè®¾è®¡</h2>
            <p class="level-description">
                è®¾è®¡å®Œæ•´çš„å·¥ä¸šå¹²ç‡¥ç³»ç»Ÿã€‚ä¼˜åŒ–æ°”æµç»„ç»‡ã€æ¸©åº¦å’Œé£é€Ÿå‚æ•°ï¼Œå¹³è¡¡å¹²ç‡¥æ•ˆç‡ä¸äº§å“è´¨é‡ï¼Œé˜²æ­¢è¡¨é¢ç»“çš®ç°è±¡ã€‚
            </p>
            
            <!-- æ¨¡æ‹ŸåŒºåŸŸ -->
            <div class="simulation-area">
                <div class="simulation-header">
                    <h3 class="simulation-title">ç”µæ± æç‰‡å¹²ç‡¥è¿‡ç¨‹æ¨¡æ‹Ÿ</h3>
                    <div class="simulation-status" id="system-status">å°±ç»ª</div>
                </div>
                
                <!-- ç´§å‡‘å¸ƒå±€ï¼šæ°”æµæ¨¡å¼å’Œå¹²ç‡¥è¿›åº¦ -->
                <div class="system-layout-compact">
                    <!-- å·¦ä¾§ï¼šæ°”æµæ¨¡å¼ -->
                    <div class="mode-section-compact">
                        <h4 style="color: var(--accent); margin-bottom: 15px;">æ°”æµç»„ç»‡æ–¹æ¡ˆ</h4>
                        
                        <div class="mode-selector">
                            <button class="mode-btn active" onclick="setSystemMode('co')">å¹¶æµ</button>
                            <button class="mode-btn" onclick="setSystemMode('counter')">é€†æµ</button>
                            <button class="mode-btn" onclick="setSystemMode('cross')">é”™æµ</button>
                        </div>
                        
                        <div class="mode-display-compact">
                            <div id="system-mode-icon" class="mode-icon-compact">â¡</div>
                            <div style="font-size: 1.2rem; font-weight: bold; color: var(--accent);" id="system-mode-name">å¹¶æµæ¨¡å¼</div>
                            <div class="mode-description-compact" id="system-mode-desc">
                                æ°”æµä¸æç‰‡ç§»åŠ¨æ–¹å‘ç›¸åŒã€‚åˆæœŸæ¨åŠ¨åŠ›å¤§ï¼Œå¹²ç‡¥å¿«ï¼›åæœŸæ¨åŠ¨åŠ›å°ï¼Œæ•ˆç‡é™ä½ã€‚
                            </div>
                        </div>
                    </div>
                    
                    <!-- å³ä¾§ï¼šå¹²ç‡¥è¿›åº¦ -->
                    <div class="progress-section-compact">
                        <h4 style="color: var(--accent); margin-bottom: 15px;">å¹²ç‡¥è¿›åº¦</h4>
                        
                        <!-- æç‰‡æ¨¡æ‹Ÿ -->
                        <div style="margin-bottom: 15px;">
                            <div style="text-align: center; margin-bottom: 10px; color: #94a3b8;">
                                æº¶å‰‚å«é‡: <span id="system-solvent" style="color: var(--accent); font-size: 1.3rem; font-weight: bold;">100%</span>
                            </div>
                            <div class="electrode-strip">
                                <div id="system-solvent-layer" class="solvent-layer" style="width: 100%"></div>
                                <div id="crusting-layer" style="position: absolute; top: 0; left: 0; width: 100%; height: 3px; background: repeating-linear-gradient(45deg, transparent, transparent 5px, var(--danger) 5px, var(--danger) 10px); opacity: 0;"></div>
                            </div>
                            <div style="text-align: center; margin-top: 10px; color: #94a3b8; font-size: 0.9rem;">
                                ç»“çš®é£é™©: <span id="system-crusting-risk" style="color: var(--success); font-weight: bold;">ä½</span>
                            </div>
                        </div>
                        
  <!-- ç»Ÿè®¡æ•°æ® -->
    <div class="progress-stats-compact">
        <div class="stat-item-compact">
            <div>
                <span class="stat-label-compact">å¹²ç‡¥é€Ÿç‡:</span>
                <span class="stat-value-compact" id="system-drying-rate">0.0</span>
                <span class="stat-label-compact">g/mÂ²Â·s</span>
            </div>
        </div>
        
        <div class="stat-item-compact">
            <div>
                <span class="stat-label-compact">å¹²ç‡¥æ—¶é—´:</span>
                <span class="stat-value-compact" id="system-time">0</span>
                <span class="stat-label-compact">s</span>
            </div>
        </div>
        
        <div class="stat-item-compact">
            <div>
                <span class="stat-label-compact">èƒ½è€—:</span>
                <span class="stat-value-compact" id="system-energy">0.0</span>
                <span class="stat-label-compact">kWÂ·h</span>
            </div>
        </div>
        
        <div class="stat-item-compact">
            <div>
                <span class="stat-label-compact">èƒ½æ•ˆæ¯”:</span>
                <span class="stat-value-compact" id="system-efficiency">0.0</span>
                <span class="stat-label-compact">g/kWÂ·h</span>
            </div>
        </div>
    </div>
</div>
                
                <!-- é£é€Ÿä¸ç®­å¤´æ˜¾ç¤º -->
                <div class="air-flow-display">
                    <div class="air-flow-direction">
                        <div id="system-arrow" class="flow-arrow">â¡</div>
                        <div class="flow-text" id="system-flow-text">æ°”æµæ¨¡å¼: å¹¶æµ | é£é€Ÿ: 2.0 m/s | æ¸©åº¦: 80Â°C</div>
                    </div>
                </div>
                
                <!-- æ§åˆ¶é¢æ¿ -->
                <div class="control-panel">
                    <div class="formula-display" id="system-formula">
                        N(x) = kc(x) Â· [Cs(x) - Cair(x)]
                    </div>
                    
                    <!-- æ»‘å—ç´§å‡‘å¸ƒå±€ -->
                    <div class="control-row">
                        <div class="control-column">
                            <label class="control-label">é£é€Ÿ (m/s)</label>
                            <div class="slider-container">
                                <div id="system-wind-value" class="slider-value">2.0</div>
                                <input type="range" id="system-wind-slider" min="0.5" max="15.0" step="0.1" value="2.0">
                            </div>
                        </div>
                        
                        <div class="control-column">
                            <label class="control-label">æ¸©åº¦ (Â°C)</label>
                            <div class="slider-container">
                                <div id="system-temp-value" class="slider-value">80</div>
                                <input type="range" id="system-temp-slider" min="40" max="120" step="1" value="80">
                            </div>
                        </div>
                        
                        <div class="control-column">
                            <label class="control-label">æ¹¿åº¦ (%)</label>
                            <div class="slider-container">
                                <div id="system-humidity-value" class="slider-value">10</div>
                                <input type="range" id="system-humidity-slider" min="1" max="50" step="1" value="10">
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn btn-primary" onclick="startSystemSim()">
                            <span>â–¶</span>
                            <span>å¯åŠ¨äº§çº¿</span>
                        </button>
                        <button class="action-btn btn-secondary" onclick="resetSystemSim()">
                            <span>â†º</span>
                            <span>é‡ç½®</span>
                        </button>
                        <button class="action-btn btn-secondary" onclick="optimizeSystem()">
                            <span>âš¡</span>
                            <span>æ™ºèƒ½ä¼˜åŒ–</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- è¯„æµ‹ç¯èŠ‚ -->
            <button id="evaluation-toggle" class="evaluation-toggle" onclick="showEvaluation()">
                <span>ğŸ“</span>
                <span>è¿›å…¥ç»¼åˆè¯„æµ‹</span>
            </button>
            
            <div id="evaluation-section" class="evaluation-section">
                <h2 class="evaluation-title">å·¥ç¨‹ä¼ è´¨èƒ½åŠ›ç»¼åˆè¯„æµ‹</h2>
                <p style="text-align: center; color: #94a3b8; margin-bottom: 30px;">
                    é€šè¿‡3é“ä¸“ä¸šé¢˜ç›®æµ‹è¯•æ‚¨çš„å·¥ç¨‹ä¼ è´¨çŸ¥è¯†æŒæ¡ç¨‹åº¦ã€‚
                </p>
                
                <div class="questions-container">
                    <!-- é¢˜ç›®1 -->
                    <div class="question-card" id="question1">
                        <div>
                            <span class="question-number">1</span>
                            <span class="question-text">åœ¨ç”µæ± æç‰‡å¯¹æµå¹²ç‡¥è¿‡ç¨‹ä¸­ï¼Œä»¥ä¸‹å“ªç§æ°”æµç»„ç»‡æ–¹æ¡ˆé€šå¸¸å…·æœ‰æœ€å‡åŒ€çš„æ¨åŠ¨åŠ›åˆ†å¸ƒï¼Ÿ</span>
                        </div>
                        
                        <div class="options-container">
                            <div class="option" onclick="selectOption(1, 'A')">
                                <div class="option-letter">A</div>
                                <div class="option-text">å¹¶æµï¼ˆCocurrentï¼‰æ–¹æ¡ˆ</div>
                            </div>
                            <div class="option" onclick="selectOption(1, 'B')">
                                <div class="option-letter">B</div>
                                <div class="option-text">é€†æµï¼ˆCounter-currentï¼‰æ–¹æ¡ˆ</div>
                            </div>
                            <div class="option" onclick="selectOption(1, 'C')">
                                <div class="option-letter">C</div>
                                <div class="option-text">é”™æµï¼ˆCross-flowï¼‰æ–¹æ¡ˆ</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- é¢˜ç›®2 -->
                    <div class="question-card" id="question2">
                        <div>
                            <span class="question-number">2</span>
                            <span class="question-text">ä¸ºäº†é˜²æ­¢æç‰‡è¡¨é¢ç»“çš®ï¼ˆCrustingï¼‰ï¼Œä»¥ä¸‹å“ªé¡¹æªæ–½æœ€ä¸ºæœ‰æ•ˆï¼Ÿ</span>
                        </div>
                        
                        <div class="options-container">
                            <div class="option" onclick="selectOption(2, 'A')">
                                <div class="option-letter">A</div>
                                <div class="option-text">åœ¨å¹²ç‡¥åˆæœŸä½¿ç”¨æé«˜çš„é£é€Ÿ</div>
                            </div>
                            <div class="option" onclick="selectOption(2, 'B')">
                                <div class="option-letter">B</div>
                                <div class="option-text">é‡‡ç”¨åˆ†æ®µæ¸©åº¦æ§åˆ¶ï¼ŒåˆæœŸä½æ¸©åæœŸé«˜æ¸©</div>
                            </div>
                            <div class="option" onclick="selectOption(2, 'C')">
                                <div class="option-letter">C</div>
                                <div class="option-text">åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ä¿æŒæ’å®šçš„ä½æ¹¿åº¦</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- é¢˜ç›®3 -->
                    <div class="question-card" id="question3">
                        <div>
                            <span class="question-number">3</span>
                            <span class="question-text">åœ¨å¯¹æµä¼ è´¨è¿‡ç¨‹ä¸­ï¼Œä»¥ä¸‹å“ªä¸ªå› ç´ å¯¹ä¼ è´¨ç³»æ•°ï¼ˆkcï¼‰çš„å½±å“æœ€å¤§ï¼Ÿ</span>
                        </div>
                        
                        <div class="options-container">
                            <div class="option" onclick="selectOption(3, 'A')">
                                <div class="option-letter">A</div>
                                <div class="option-text">ç©ºæ°”çš„æ¸©åº¦</div>
                            </div>
                            <div class="option" onclick="selectOption(3, 'B')">
                                <div class="option-letter">B</div>
                                <div class="option-text">ç©ºæ°”çš„æµé€Ÿ</div>
                            </div>
                            <div class="option" onclick="selectOption(3, 'C')">
                                <div class="option-letter">C</div>
                                <div class="option-text">æº¶å‰‚çš„æ€§è´¨</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button id="submit-evaluation" class="submit-btn" onclick="submitEvaluation()" disabled>
                    <span>ğŸ“¤</span>
                    <span>æäº¤è¯„æµ‹</span>
                </button>
                
                <!-- è¯„æµ‹ç»“æœ -->
                <div id="result-container" class="result-container">
                    <div style="margin-bottom: 30px;">
                        <div id="result-badge" style="display: inline-block; padding: 12px 30px; background: linear-gradient(135deg, #4a5568, #718096); color: white; border-radius: 30px; font-size: 1.5rem; font-weight: 700; margin-bottom: 20px;">
                            åŠ©ç†å·¥ç¨‹å¸ˆ
                        </div>
                        <div id="result-score" class="result-score">0/9</div>
                        <h3 id="result-title" style="font-size: 2rem; color: #e2e8f0; margin-bottom: 15px;">åŠ©ç†å·¥ç¨‹å¸ˆ</h3>
                        <p id="result-desc" style="color: #94a3b8; font-size: 1.1rem; line-height: 1.6; max-width: 800px; margin: 0 auto 30px;">
                            æ‚¨å·²æŒæ¡ä¼ è´¨è¿‡ç¨‹çš„åŸºç¡€çŸ¥è¯†ï¼Œä½†åœ¨å®é™…å·¥ç¨‹åº”ç”¨å’Œç³»ç»Ÿä¼˜åŒ–æ–¹é¢è¿˜éœ€è¦è¿›ä¸€æ­¥å­¦ä¹ ã€‚
                        </p>
                    </div>
                    
                    <div class="action-buttons-evaluation">
                        <button class="btn-evaluation btn-retry" onclick="retryEvaluation()">
                            <span>ğŸ”„</span>
                            <span>é‡æ–°è¯„æµ‹</span>
                        </button>
                        <button class="btn-evaluation btn-continue" onclick="continueLearning()">
                            <span>ğŸš€</span>
                            <span>ç»§ç»­å­¦ä¹ </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–çŠ¶æ€
        let currentLevel = 1;
        
        // ç¬¬ä¸€å…³çŠ¶æ€
        let clothesSimRunning = false;
        let clothesSimInterval = null;
        let clothesMoisture = 100;
        let clothesStartTime = 0;
        let clothesDryingRate = 0;
        
        // ç¬¬äºŒå…³çŠ¶æ€
        let bottleneckValues = {
            evaporation: 0.8,
            convection: 0.5,
            heat: 0.9,
            diffusion: 0.6
        };
        
        // ç¬¬ä¸‰å…³çŠ¶æ€
        let systemSimRunning = false;
        let systemSimInterval = null;
        let systemSolvent = 100;
        let systemMode = 'co';
        let systemStartTime = 0;
        let systemEnergy = 0;
        let systemEfficiency = 0;
        
        // è¯„æµ‹ç³»ç»ŸçŠ¶æ€
        let evaluationAnswers = {};
        
        // åˆå§‹åŒ–å‡½æ•°
        function init() {
            // è®¾ç½®å¯¼èˆªç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                item.addEventListener('click', () => {
                    switchLevel(index + 1);
                });
            });
            
            // è®¾ç½®ç¬¬ä¸€å…³æ»‘å—äº‹ä»¶
            setupLevel1Controls();
            
            // è®¾ç½®ç¬¬äºŒå…³æ»‘å—äº‹ä»¶
            setupLevel2Controls();
            
            // è®¾ç½®ç¬¬ä¸‰å…³æ»‘å—äº‹ä»¶
            setupLevel3Controls();
            
            // æ˜¾ç¤ºç¬¬ä¸€å…³
            switchLevel(1);
            
            // åˆå§‹åŒ–ç¬¬ä¸‰å…³æ¨¡å¼æ˜¾ç¤º
            updateSystemModeDisplay();
        }
        
        // åˆ‡æ¢å…³å¡
        function switchLevel(level) {
            currentLevel = level;
            
            // æ›´æ–°å¯¼èˆª
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                item.classList.toggle('active', index + 1 === level);
            });
            
            // æ˜¾ç¤ºå¯¹åº”å…³å¡å†…å®¹
            document.querySelectorAll('.content-area').forEach((area, index) => {
                area.classList.toggle('active', index + 1 === level);
            });
            
            // é‡ç½®å½“å‰å…³å¡çš„æ¨¡æ‹Ÿ
            if (level === 1) {
                resetClothesSim();
            } else if (level === 2) {
                resetBottleneck();
            } else if (level === 3) {
                resetSystemSim();
            }
        }
        
        // === ç¬¬ä¸€å…³ï¼šç”Ÿæ´»æ¡ˆä¾‹ ===
        function setupLevel1Controls() {
            const windSlider = document.getElementById('clothes-wind-slider');
            const tempSlider = document.getElementById('clothes-temp-slider');
            const humiditySlider = document.getElementById('clothes-humidity-slider');
            
            if (windSlider) {
                windSlider.addEventListener('input', function(e) {
                    const value = parseFloat(e.target.value);
                    document.getElementById('clothes-wind-value').textContent = value.toFixed(1);
                    updateClothesArrow(value);
                });
            }
            
            if (tempSlider) {
                tempSlider.addEventListener('input', function(e) {
                    const value = parseInt(e.target.value);
                    document.getElementById('clothes-temp-value').textContent = value;
                });
            }
            
            if (humiditySlider) {
                humiditySlider.addEventListener('input', function(e) {
                    const value = parseInt(e.target.value);
                    document.getElementById('clothes-humidity-value').textContent = value;
                });
            }
        }
        
        function updateClothesArrow(windSpeed) {
            const arrow = document.getElementById('clothes-arrow');
            const flowText = document.getElementById('clothes-flow-text');
            
            // æ ¹æ®é£é€Ÿè°ƒæ•´ç®­å¤´å¤§å°
            let arrowSize = 30 + windSpeed * 5;
            if (arrowSize > 60) arrowSize = 60;
            
            arrow.style.fontSize = `${arrowSize}px`;
            flowText.textContent = `é£é€Ÿ: ${windSpeed.toFixed(1)} m/s`;
            
            // è°ƒæ•´ç®­å¤´ç¬¦å·è¡¨ç¤ºé£é€Ÿå¤§å°
            if (windSpeed > 3.5) {
                arrow.textContent = 'â¡â¡';
            } else if (windSpeed > 2) {
                arrow.textContent = 'â¡';
            } else {
                arrow.textContent = 'â';
            }
        }
        
        function startClothesSim() {
            if (clothesSimRunning) {
                // å¦‚æœå·²ç»åœ¨è¿è¡Œï¼Œåˆ™åœæ­¢
                clearInterval(clothesSimInterval);
                clothesSimRunning = false;
                document.getElementById('clothes-start-btn').innerHTML = '<span>â–¶</span><span>å¼€å§‹æ¨¡æ‹Ÿ</span>';
                document.getElementById('clothes-status').textContent = 'å·²åœæ­¢';
                return;
            }
            
            clothesSimRunning = true;
            clothesMoisture = 100;
            clothesStartTime = Date.now();
            clothesDryingRate = 0;
            
            // è·å–å‚æ•°
            const windSpeed = parseFloat(document.getElementById('clothes-wind-slider').value);
            const temperature = parseInt(document.getElementById('clothes-temp-slider').value);
            const humidity = parseInt(document.getElementById('clothes-humidity-slider').value);
            
            // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            document.getElementById('clothes-status').textContent = 'å¹²ç‡¥ä¸­...';
            document.getElementById('clothes-result').style.display = 'none';
            document.getElementById('clothes-start-btn').innerHTML = '<span>â¸</span><span>æš‚åœæ¨¡æ‹Ÿ</span>';
            
            // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
            if (clothesSimInterval) {
                clearInterval(clothesSimInterval);
            }
            
            // å¼€å§‹æ¨¡æ‹Ÿ
            clothesSimInterval = setInterval(() => {
                // è®¡ç®—å¹²ç‡¥é€Ÿç‡ï¼šåŸºäºé£é€Ÿã€æ¸©åº¦ã€æ¹¿åº¦
                const windEffect = windSpeed * 0.1; // é£é€Ÿå½±å“
                const tempEffect = (temperature - 10) * 0.005; // æ¸©åº¦å½±å“
                const humidityEffect = (100 - humidity) * 0.002; // æ¹¿åº¦å½±å“ï¼ˆæ¹¿åº¦è¶Šä½å¹²ç‡¥è¶Šå¿«ï¼‰
                
                // å½“å‰æ¹¿åº¦è¶Šé«˜ï¼Œå¹²ç‡¥è¶Šå¿«ï¼ˆæµ“åº¦å·®å¤§ï¼‰
                const moistureEffect = clothesMoisture / 100;
                
                // ç»¼åˆå¹²ç‡¥é€Ÿç‡
                clothesDryingRate = (windEffect + tempEffect + humidityEffect) * moistureEffect * 0.5;
                
                // æ›´æ–°æ¹¿åº¦
                clothesMoisture -= clothesDryingRate;
                
                // ç¡®ä¿æ¹¿åº¦ä¸ä¼šä½äº0
                if (clothesMoisture <= 0) {
                    clothesMoisture = 0;
                    finishClothesSim();
                }
                
                // æ›´æ–°UI
                document.getElementById('clothes-moisture').textContent = `${clothesMoisture.toFixed(1)}%`;
                document.getElementById('clothes-solvent').style.width = `${clothesMoisture}%`;
                
                // è®¡ç®—ç»è¿‡çš„æ—¶é—´
                const elapsedTime = (Date.now() - clothesStartTime) / 1000;
                
                // æ›´æ–°ç»“æœ
                document.getElementById('clothes-drying-rate').textContent = `å¹²ç‡¥é€Ÿç‡: ${clothesDryingRate.toFixed(3)} g/mÂ²Â·s`;
                document.getElementById('clothes-time').textContent = `å¹²ç‡¥æ—¶é—´: ${elapsedTime.toFixed(1)} s`;
                
            }, 100); // æ¯100msæ›´æ–°ä¸€æ¬¡
        }
        
        function finishClothesSim() {
            clearInterval(clothesSimInterval);
            clothesSimRunning = false;
            
            const elapsedTime = (Date.now() - clothesStartTime) / 1000;
            
            document.getElementById('clothes-status').textContent = 'å¹²ç‡¥å®Œæˆ';
            document.getElementById('clothes-result').style.display = 'block';
            document.getElementById('clothes-start-btn').innerHTML = '<span>â–¶</span><span>é‡æ–°å¼€å§‹</span>';
            
            // è·å–å‚æ•°ç”¨äºåé¦ˆ
            const windSpeed = parseFloat(document.getElementById('clothes-wind-slider').value);
            const temperature = parseInt(document.getElementById('clothes-temp-slider').value);
            const humidity = parseInt(document.getElementById('clothes-humidity-slider').value);
            
            // ç»™å‡ºåé¦ˆ
            let feedback = `ğŸ‰ è¡£ç‰©å¹²ç‡¥å®Œæˆï¼\n\n`;
            feedback += `æœ€ç»ˆæ¹¿åº¦: 0%\n`;
            feedback += `å¹²ç‡¥æ—¶é—´: ${elapsedTime.toFixed(1)}ç§’\n`;
            feedback += `é£é€Ÿ: ${windSpeed.toFixed(1)} m/s\n`;
            feedback += `æ¸©åº¦: ${temperature}Â°C\n`;
            feedback += `æ¹¿åº¦: ${humidity}%\n`;
            feedback += `å¹³å‡å¹²ç‡¥é€Ÿç‡: ${clothesDryingRate.toFixed(3)} g/mÂ²Â·s\n\n`;
            
            if (windSpeed > 4 && elapsedTime < 20) {
                feedback += `æç¤ºï¼šé£é€Ÿè¿‡å¿«å¯èƒ½å¯¼è‡´è¡£ç‰©å˜å½¢ï¼Œå»ºè®®é€‚å½“é™ä½é£é€Ÿã€‚`;
            } else if (temperature > 35) {
                feedback += `æç¤ºï¼šæ¸©åº¦è¿‡é«˜å¯èƒ½æŸåè¡£ç‰©çº¤ç»´ï¼Œå»ºè®®é€‚å½“é™ä½æ¸©åº¦ã€‚`;
            } else if (elapsedTime > 60) {
                feedback += `æç¤ºï¼šå¹²ç‡¥æ—¶é—´è¾ƒé•¿ï¼Œå¯é€‚å½“æé«˜é£é€Ÿæˆ–æ¸©åº¦ã€‚`;
            } else {
                feedback += `å·¥è‰ºå‚æ•°åˆç†ï¼Œå¹²ç‡¥æ•ˆæœè‰¯å¥½ï¼`;
            }
            
            setTimeout(() => alert(feedback), 500);
        }
        
        function resetClothesSim() {
            if (clothesSimInterval) {
                clearInterval(clothesSimInterval);
            }
            clothesSimRunning = false;
            clothesMoisture = 100;
            clothesDryingRate = 0;
            
            document.getElementById('clothes-status').textContent = 'å°±ç»ª';
            document.getElementById('clothes-moisture').textContent = '100%';
            document.getElementById('clothes-solvent').style.width = '100%';
            document.getElementById('clothes-result').style.display = 'none';
            document.getElementById('clothes-start-btn').innerHTML = '<span>â–¶</span><span>å¼€å§‹æ¨¡æ‹Ÿ</span>';
            
            // é‡ç½®ç®­å¤´
            const windSpeed = parseFloat(document.getElementById('clothes-wind-slider').value);
            updateClothesArrow(windSpeed);
        }
        
        function switchAnalogy(analogy) {
            // æ›´æ–°é€‰é¡¹å¡
            document.querySelectorAll('.analogy-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // æ˜¾ç¤ºå¯¹åº”å†…å®¹
            document.querySelectorAll('.analogy-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`analogy-${analogy}`).classList.add('active');
        }
        
        // === ç¬¬äºŒå…³ï¼šç“¶é¢ˆåˆ†æ ===
        function setupLevel2Controls() {
            const windSlider = document.getElementById('bottleneck-wind-slider');
            const tempSlider = document.getElementById('bottleneck-temp-slider');
            const viscositySlider = document.getElementById('bottleneck-viscosity-slider');
            
            if (windSlider) {
                windSlider.addEventListener('input', function(e) {
                    const value = parseFloat(e.target.value);
                    document.getElementById('bottleneck-wind-value').textContent = value.toFixed(1);
                });
            }
            
            if (tempSlider) {
                tempSlider.addEventListener('input', function(e) {
                    const value = parseInt(e.target.value);
                    document.getElementById('bottleneck-temp-value').textContent = value;
                });
            }
            
            if (viscositySlider) {
                viscositySlider.addEventListener('input', function(e) {
                    const value = parseFloat(e.target.value);
                    document.getElementById('bottleneck-viscosity-value').textContent = value.toFixed(1);
                });
            }
        }
        
        function analyzeBottleneck() {
            // è·å–å‚æ•°
            const windSpeed = parseFloat(document.getElementById('bottleneck-wind-slider').value);
            const temperature = parseInt(document.getElementById('bottleneck-temp-slider').value);
            const viscosity = parseFloat(document.getElementById('bottleneck-viscosity-slider').value);
            
            // è®¡ç®—å„ç¯èŠ‚ä¼ è´¨ç³»æ•°
            // å¯¹æµä¼ è´¨ï¼šä¸é£é€Ÿç›¸å…³
            bottleneckValues.convection = Math.min(1, windSpeed / 8);
            
            // æŒ¥å‘ä¼ è´¨ï¼šä¸æ¸©åº¦ç›¸å…³
            bottleneckValues.evaporation = Math.min(1, (temperature - 20) / 80);
            
            // çƒ­ä¼ å¯¼ï¼šä¸æ¸©åº¦å·®ç›¸å…³
            bottleneckValues.heat = Math.min(1, (temperature - 20) / 60);
            
            // å†…éƒ¨æ‰©æ•£ï¼šä¸ç²˜åº¦è´Ÿç›¸å…³
            bottleneckValues.diffusion = Math.max(0.1, 1 - viscosity / 2);
            
            // æ›´æ–°æ˜¾ç¤º
            updateBottleneckDisplay();
            
            // åˆ†æç“¶é¢ˆ
            findBottleneck();
        }
        
        function updateBottleneckDisplay() {
            document.getElementById('evaporation-value').textContent = bottleneckValues.evaporation.toFixed(2);
            document.getElementById('convection-value').textContent = bottleneckValues.convection.toFixed(2);
            document.getElementById('heat-value').textContent = bottleneckValues.heat.toFixed(2);
            document.getElementById('diffusion-value').textContent = bottleneckValues.diffusion.toFixed(2);
        }
        
        function findBottleneck() {
            // æ‰¾åˆ°æœ€å°å€¼ï¼ˆç“¶é¢ˆï¼‰
            const values = Object.values(bottleneckValues);
            const minValue = Math.min(...values);
            
            let bottleneck = '';
            let suggestion = '';
            
            // é‡ç½®æ‰€æœ‰é¡¹ç›®çŠ¶æ€
            document.querySelectorAll('.bottleneck-item').forEach(item => {
                item.classList.remove('active', 'critical');
            });
            
            // ç¡®å®šç“¶é¢ˆç¯èŠ‚
            if (bottleneckValues.convection === minValue) {
                bottleneck = 'å¯¹æµä¼ è´¨';
                suggestion = 'å»ºè®®æé«˜é£é€Ÿä»¥æ”¹å–„å¯¹æµä¼ è´¨';
                document.getElementById('bottleneck-convection').classList.add('critical');
            } else if (bottleneckValues.evaporation === minValue) {
                bottleneck = 'æŒ¥å‘ä¼ è´¨';
                suggestion = 'å»ºè®®æé«˜æ¸©åº¦ä»¥å¢å¼ºæŒ¥å‘';
                document.getElementById('bottleneck-evaporation').classList.add('critical');
            } else if (bottleneckValues.heat === minValue) {
                bottleneck = 'çƒ­ä¼ å¯¼';
                suggestion = 'å»ºè®®æé«˜æ¸©åº¦ä»¥æ”¹å–„çƒ­ä¼ å¯¼';
                document.getElementById('bottleneck-heat').classList.add('critical');
            } else if (bottleneckValues.diffusion === minValue) {
                bottleneck = 'å†…éƒ¨æ‰©æ•£';
                suggestion = 'å»ºè®®é™ä½æ¶²ä½“ç²˜åº¦æˆ–æé«˜æ¸©åº¦';
                document.getElementById('bottleneck-diffusion').classList.add('critical');
            }
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('bottleneck-status').textContent = `å½“å‰ç“¶é¢ˆ: ${bottleneck}`;
            document.getElementById('bottleneck-message').textContent = `å½“å‰é™åˆ¶æ­¥éª¤: ${bottleneck}`;
            document.getElementById('bottleneck-suggestion').textContent = suggestion;
            document.getElementById('bottleneck-result').style.display = 'block';
            
            // è®¡ç®—æ€»ä¼ è´¨é€Ÿç‡
            const totalRate = minValue;
            
            // ç»™å‡ºåé¦ˆ
            let feedback = `âš¡ ç“¶é¢ˆåˆ†æå®Œæˆï¼\n\n`;
            feedback += `å½“å‰é™åˆ¶ç¯èŠ‚: ${bottleneck}\n`;
            feedback += `æ€»ä¼ è´¨é€Ÿç‡: ${totalRate.toFixed(2)}\n`;
            feedback += `\n${suggestion}`;
            
            alert(feedback);
        }
        
        function resetBottleneck() {
            // é‡ç½®æ»‘å—åˆ°é»˜è®¤å€¼
            document.getElementById('bottleneck-wind-slider').value = 2.0;
            document.getElementById('bottleneck-temp-slider').value = 60;
            document.getElementById('bottleneck-viscosity-slider').value = 0.5;
            
            document.getElementById('bottleneck-wind-value').textContent = '2.0';
            document.getElementById('bottleneck-temp-value').textContent = '60';
            document.getElementById('bottleneck-viscosity-value').textContent = '0.5';
            
            // é‡ç½®æ˜¾ç¤º
            document.getElementById('bottleneck-status').textContent = 'å½“å‰ç“¶é¢ˆ: æœªåˆ†æ';
            document.getElementById('bottleneck-result').style.display = 'none';
            
            // é‡ç½®é¡¹ç›®çŠ¶æ€
            document.querySelectorAll('.bottleneck-item').forEach(item => {
                item.classList.remove('active', 'critical');
            });
            document.getElementById('bottleneck-convection').classList.add('active');
            
            // é‡ç½®å€¼
            bottleneckValues = {
                evaporation: 0.8,
                convection: 0.5,
                heat: 0.9,
                diffusion: 0.6
            };
            
            updateBottleneckDisplay();
        }
        
        // === ç¬¬ä¸‰å…³ï¼šç³»ç»Ÿè®¾è®¡ ===
        function setupLevel3Controls() {
            const windSlider = document.getElementById('system-wind-slider');
            const tempSlider = document.getElementById('system-temp-slider');
            const humiditySlider = document.getElementById('system-humidity-slider');
            
            if (windSlider) {
                windSlider.addEventListener('input', function(e) {
                    const value = parseFloat(e.target.value);
                    document.getElementById('system-wind-value').textContent = value.toFixed(1);
                    updateSystemArrow(value);
                });
            }
            
            if (tempSlider) {
                tempSlider.addEventListener('input', function(e) {
                    const value = parseInt(e.target.value);
                    document.getElementById('system-temp-value').textContent = value;
                    updateSystemArrow(parseFloat(document.getElementById('system-wind-slider').value));
                });
            }
            
            if (humiditySlider) {
                humiditySlider.addEventListener('input', function(e) {
                    const value = parseInt(e.target.value);
                    document.getElementById('system-humidity-value').textContent = value;
                });
            }
        }
        
        function setSystemMode(mode) {
            systemMode = mode;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // æ›´æ–°æ¨¡å¼æ˜¾ç¤º
            updateSystemModeDisplay();
            
            // æ›´æ–°ç®­å¤´
            updateSystemArrow(parseFloat(document.getElementById('system-wind-slider').value));
        }
        
        function updateSystemModeDisplay() {
            let modeIcon = 'â¡';
            let modeName = 'å¹¶æµæ¨¡å¼';
            let modeDesc = 'æ°”æµä¸æç‰‡ç§»åŠ¨æ–¹å‘ç›¸åŒã€‚åˆæœŸæ¨åŠ¨åŠ›å¤§ï¼Œå¹²ç‡¥å¿«ï¼›åæœŸæ¨åŠ¨åŠ›å°ï¼Œæ•ˆç‡é™ä½ã€‚';
            
            if (systemMode === 'counter') {
                modeIcon = 'â¬…';
                modeName = 'é€†æµæ¨¡å¼';
                modeDesc = 'æ°”æµä¸æç‰‡ç§»åŠ¨æ–¹å‘ç›¸åã€‚æ¨åŠ¨åŠ›åˆ†å¸ƒå‡åŒ€ï¼Œå¹²ç‡¥æ•ˆç‡ç¨³å®šï¼Œä½†åˆæœŸå¹²ç‡¥è¾ƒæ…¢ã€‚';
            } else if (systemMode === 'cross') {
                modeIcon = 'â¬‡';
                modeName = 'é”™æµæ¨¡å¼';
                modeDesc = 'æ°”æµä¸æç‰‡ç§»åŠ¨æ–¹å‘å‚ç›´ã€‚ç»¼åˆå¹¶æµå’Œé€†æµçš„ä¼˜ç‚¹ï¼Œé€‚ç”¨äºå¤æ‚å½¢çŠ¶çš„æç‰‡ã€‚';
            }
            
            document.getElementById('system-mode-icon').textContent = modeIcon;
            document.getElementById('system-mode-name').textContent = modeName;
            document.getElementById('system-mode-desc').textContent = modeDesc;
        }
        
        function updateSystemArrow(windSpeed) {
            const arrow = document.getElementById('system-arrow');
            
            // æ ¹æ®é£é€Ÿè°ƒæ•´ç®­å¤´å¤§å°
            let arrowSize = 30 + windSpeed * 5;
            if (arrowSize > 60) arrowSize = 60;
            
            arrow.style.fontSize = `${arrowSize}px`;
            
            // æ ¹æ®æ¨¡å¼è®¾ç½®ç®­å¤´æ–¹å‘
            let arrowSymbol = 'â¡';
            if (systemMode === 'counter') arrowSymbol = 'â¬…';
            if (systemMode === 'cross') arrowSymbol = 'â¬‡';
            arrow.textContent = arrowSymbol;
            
            // æ›´æ–°æ–‡æœ¬
            const temperature = parseInt(document.getElementById('system-temp-slider').value);
            let modeText = 'å¹¶æµ';
            if (systemMode === 'counter') modeText = 'é€†æµ';
            if (systemMode === 'cross') modeText = 'é”™æµ';
            
            document.getElementById('system-flow-text').textContent = `æ°”æµæ¨¡å¼: ${modeText} | é£é€Ÿ: ${windSpeed.toFixed(1)} m/s | æ¸©åº¦: ${temperature}Â°C`;
        }
        
        function startSystemSim() {
            if (systemSimRunning) return;
            
            systemSimRunning = true;
            systemSolvent = 100;
            systemStartTime = Date.now();
            systemEnergy = 0;
            systemEfficiency = 0;
            
            // è·å–å‚æ•°
            const windSpeed = parseFloat(document.getElementById('system-wind-slider').value);
            const temperature = parseInt(document.getElementById('system-temp-slider').value);
            const humidity = parseInt(document.getElementById('system-humidity-slider').value);
            
            // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            document.getElementById('system-status').textContent = 'è¿è¡Œä¸­...';
            
            // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
            if (systemSimInterval) {
                clearInterval(systemSimInterval);
            }
            
            // å¼€å§‹æ¨¡æ‹Ÿ
            systemSimInterval = setInterval(() => {
                // è®¡ç®—ä¼ è´¨ç³»æ•°
                const kc = 0.4 * Math.pow(windSpeed, 0.6) * Math.exp(0.02 * (temperature - 20));
                
                // è®¡ç®—æ¨åŠ¨åŠ›ï¼ˆæ ¹æ®æ°”æµæ¨¡å¼ï¼‰
                let drivingForce = 0;
                let crustingRisk = 0;
                
                if (systemMode === 'co') {
                    // å¹¶æµï¼šåˆæœŸæ¨åŠ¨åŠ›å¤§ï¼ŒåæœŸå°
                    const progress = (100 - systemSolvent) / 100;
                    drivingForce = 1.8 * Math.exp(-progress * 2);
                    // å¹¶æµåˆæœŸç»“çš®é£é™©é«˜
                    if (windSpeed > 6 && systemSolvent > 70) {
                        crustingRisk = Math.min(1, (windSpeed - 6) / 4 * (systemSolvent / 100));
                    }
                } else if (systemMode === 'counter') {
                    // é€†æµï¼šæ¨åŠ¨åŠ›è¾ƒå‡åŒ€
                    drivingForce = 1.2;
                    // é€†æµç»“çš®é£é™©ä½
                    if (windSpeed > 9) {
                        crustingRisk = Math.min(1, (windSpeed - 9) / 6);
                    }
                } else {
                    // é”™æµï¼šä¸­ç­‰æ¨åŠ¨åŠ›
                    const progress = (100 - systemSolvent) / 100;
                    drivingForce = 1.5 * (1 - progress * 0.3);
                    if (windSpeed > 8 && systemSolvent > 50) {
                        crustingRisk = Math.min(1, (windSpeed - 8) / 4 * (systemSolvent / 100));
                    }
                }
                
                // è€ƒè™‘æ¹¿åº¦å½±å“
                drivingForce *= (1 - humidity / 100);
                
                // è®¡ç®—å¹²ç‡¥é€Ÿç‡
                const dryingRate = kc * drivingForce * 0.5;
                systemSolvent -= dryingRate;
                
                // è®¡ç®—èƒ½è€—
                systemEnergy += (windSpeed * windSpeed * 0.01) + ((temperature - 20) * 0.001);
                
                // è®¡ç®—èƒ½æ•ˆæ¯”
                if (systemEnergy > 0) {
                    systemEfficiency = (100 - systemSolvent) / systemEnergy;
                }
                
                // æ›´æ–°UI
                document.getElementById('system-solvent').textContent = `${systemSolvent.toFixed(1)}%`;
                document.getElementById('system-solvent-layer').style.width = `${systemSolvent}%`;
                
                // æ›´æ–°ç»“çš®é£é™©æ˜¾ç¤º
                const crustingLayer = document.getElementById('crusting-layer');
                crustingLayer.style.opacity = crustingRisk;
                
                let riskText = 'ä½';
                let riskColor = 'var(--success)';
                
                if (crustingRisk > 0.7) {
                    riskText = 'é«˜';
                    riskColor = 'var(--danger)';
                } else if (crustingRisk > 0.3) {
                    riskText = 'ä¸­';
                    riskColor = 'var(--warning)';
                }
                
                document.getElementById('system-crusting-risk').textContent = riskText;
                document.getElementById('system-crusting-risk').style.color = riskColor;
                
                // è®¡ç®—ç»è¿‡çš„æ—¶é—´
                const elapsedTime = (Date.now() - systemStartTime) / 1000;
                
                // æ›´æ–°ç»Ÿè®¡æ•°æ®
                document.getElementById('system-drying-rate').textContent = dryingRate.toFixed(3);
                document.getElementById('system-time').textContent = elapsedTime.toFixed(0);
                document.getElementById('system-energy').textContent = systemEnergy.toFixed(2);
                document.getElementById('system-efficiency').textContent = systemEfficiency.toFixed(1);
                
                // æ£€æŸ¥å®Œæˆæ¡ä»¶
                if (systemSolvent <= 0) {
                    systemSolvent = 0;
                    finishSystemSim();
                }
                
            }, 100); // æ¯100msæ›´æ–°ä¸€æ¬¡
        }
        
        function finishSystemSim() {
            clearInterval(systemSimInterval);
            systemSimRunning = false;
            
            const elapsedTime = (Date.now() - systemStartTime) / 1000;
            
            document.getElementById('system-status').textContent = 'å¹²ç‡¥å®Œæˆ';
            
            // æ˜¾ç¤ºè¯„æµ‹æŒ‰é’®
            document.getElementById('evaluation-toggle').style.display = 'block';
            
            // ç»™å‡ºåé¦ˆ
            let feedback = `ğŸ‰ ç”µæ± æç‰‡å¹²ç‡¥å®Œæˆï¼\n\n`;
            feedback += `æœ€ç»ˆæº¶å‰‚å«é‡: 0%\n`;
            feedback += `å¹²ç‡¥æ—¶é—´: ${elapsedTime.toFixed(1)}ç§’\n`;
            feedback += `èƒ½è€—: ${systemEnergy.toFixed(2)} kWÂ·h\n`;
            feedback += `èƒ½æ•ˆæ¯”: ${systemEfficiency.toFixed(1)} g/kWÂ·h\n`;
            feedback += `ç»“çš®é£é™©: ${document.getElementById('system-crusting-risk').textContent}\n\n`;
            
            // æ ¹æ®è¡¨ç°ç»™å‡ºè¯„ä»·
            const crustingRisk = document.getElementById('system-crusting-risk').textContent;
            
            if (crustingRisk === 'é«˜') {
                feedback += `âš ï¸ æ³¨æ„ï¼šå­˜åœ¨é«˜ç»“çš®é£é™©ï¼Œå»ºè®®è°ƒæ•´å‚æ•°ï¼`;
            } else if (systemEnergy > 20) {
                feedback += `âš ï¸ æ³¨æ„ï¼šèƒ½è€—è¾ƒé«˜ï¼Œå»ºè®®ä¼˜åŒ–å‚æ•°é™ä½èƒ½è€—ï¼`;
            } else if (elapsedTime > 50) {
                feedback += `æç¤ºï¼šå¹²ç‡¥æ—¶é—´è¾ƒé•¿ï¼Œå¯é€‚å½“æé«˜é£é€Ÿæˆ–æ¸©åº¦ã€‚`;
            } else {
                feedback += `å·¥è‰ºå‚æ•°åˆç†ï¼Œå¹²ç‡¥æ•ˆæœè‰¯å¥½ï¼`;
            }
            
            setTimeout(() => alert(feedback), 500);
        }
        
        function resetSystemSim() {
            if (systemSimInterval) {
                clearInterval(systemSimInterval);
            }
            systemSimRunning = false;
            systemSolvent = 100;
            systemEnergy = 0;
            systemEfficiency = 0;
            
            document.getElementById('system-status').textContent = 'å°±ç»ª';
            document.getElementById('system-solvent').textContent = '100%';
            document.getElementById('system-solvent-layer').style.width = '100%';
            document.getElementById('system-crusting-risk').textContent = 'ä½';
            document.getElementById('system-crusting-risk').style.color = 'var(--success)';
            document.getElementById('crusting-layer').style.opacity = '0';
            document.getElementById('evaluation-toggle').style.display = 'none';
            
            // é‡ç½®ç»Ÿè®¡æ•°æ®
            document.getElementById('system-drying-rate').textContent = '0.0';
            document.getElementById('system-time').textContent = '0';
            document.getElementById('system-energy').textContent = '0.0';
            document.getElementById('system-efficiency').textContent = '0.0';
            
            // é‡ç½®ç®­å¤´
            updateSystemArrow(parseFloat(document.getElementById('system-wind-slider').value));
        }
        
        function optimizeSystem() {
            // æ ¹æ®å½“å‰æ¨¡å¼æ¨èä¼˜åŒ–å‚æ•°
            if (systemMode === 'co') {
                // å¹¶æµä¼˜åŒ–ï¼šé™ä½é£é€Ÿé¿å…ç»“çš®ï¼Œé€‚å½“æé«˜æ¸©åº¦
                document.getElementById('system-wind-slider').value = 4.0;
                document.getElementById('system-temp-slider').value = 85;
                document.getElementById('system-humidity-slider').value = 15;
            } else if (systemMode === 'counter') {
                // é€†æµä¼˜åŒ–ï¼šå¯æé«˜é£é€Ÿï¼Œæ¸©åº¦é€‚ä¸­
                document.getElementById('system-wind-slider').value = 6.0;
                document.getElementById('system-temp-slider').value = 75;
                document.getElementById('system-humidity-slider').value = 20;
            } else {
                // é”™æµä¼˜åŒ–ï¼šä¸­ç­‰å‚æ•°
                document.getElementById('system-wind-slider').value = 5.0;
                document.getElementById('system-temp-slider').value = 80;
                document.getElementById('system-humidity-slider').value = 18;
            }
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('system-wind-value').textContent = document.getElementById('system-wind-slider').value;
            document.getElementById('system-temp-value').textContent = document.getElementById('system-temp-slider').value;
            document.getElementById('system-humidity-value').textContent = document.getElementById('system-humidity-slider').value;
            
            updateSystemArrow(parseFloat(document.getElementById('system-wind-slider').value));
            
            alert('âš¡ å·²åº”ç”¨æ™ºèƒ½ä¼˜åŒ–å‚æ•°ï¼');
        }
        
        // === è¯„æµ‹ç³»ç»Ÿ ===
        function showEvaluation() {
            document.getElementById('evaluation-section').classList.add('active');
            document.getElementById('evaluation-toggle').style.display = 'none';
            resetEvaluation();
        }
        
        function selectOption(questionId, optionLetter) {
            // æ¸…é™¤è¯¥é¢˜ç›®çš„å…¶ä»–é€‰é¡¹é€‰ä¸­çŠ¶æ€
            const questionCard = document.getElementById(`question${questionId}`);
            if (questionCard) {
                const options = questionCard.querySelectorAll('.option');
                options.forEach(option => {
                    option.classList.remove('selected');
                });
            }
            
            // æ ‡è®°é€‰ä¸­é€‰é¡¹
            event.currentTarget.classList.add('selected');
            
            // ä¿å­˜ç­”æ¡ˆ
            evaluationAnswers[questionId] = optionLetter;
            
            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰é¢˜ç›®éƒ½å·²ä½œç­”
            checkAllAnswered();
        }
        
        function checkAllAnswered() {
            const allAnswered = Object.keys(evaluationAnswers).length === 3;
            const submitBtn = document.getElementById('submit-evaluation');
            
            if (allAnswered) {
                submitBtn.disabled = false;
            }
        }
        
        function submitEvaluation() {
            // æ­£ç¡®ç­”æ¡ˆ
            const correctAnswers = {1: 'B', 2: 'B', 3: 'B'};
            let score = 0;
            
            // è®¡ç®—åˆ†æ•°
            for (const [questionId, userAnswer] of Object.entries(evaluationAnswers)) {
                if (userAnswer === correctAnswers[questionId]) {
                    score += 3;
                }
            }
            
            // ç¡®å®šç­‰çº§
            let level = 'junior';
            let badgeColor = 'linear-gradient(135deg, #4a5568, #718096)';
            let title = 'åŠ©ç†å·¥ç¨‹å¸ˆ';
            let desc = 'æ‚¨å·²æŒæ¡ä¼ è´¨è¿‡ç¨‹çš„åŸºç¡€çŸ¥è¯†ï¼Œä½†åœ¨å®é™…å·¥ç¨‹åº”ç”¨å’Œç³»ç»Ÿä¼˜åŒ–æ–¹é¢è¿˜éœ€è¦è¿›ä¸€æ­¥å­¦ä¹ ã€‚';
            
            if (score >= 7) {
                level = 'senior';
                badgeColor = 'linear-gradient(135deg, #00bcd4, #00a0b8)';
                title = 'ä¸“ä¸šå·¥ç¨‹å¸ˆ';
                desc = 'æ‚¨å…·å¤‡äº†ä¼˜ç§€çš„å·¥ç¨‹ä¼ è´¨èƒ½åŠ›ï¼Œèƒ½å¤Ÿè®¾è®¡ä¼˜åŒ–å¤æ‚çš„å¹²ç‡¥ç³»ç»Ÿï¼Œè§£å†³å®é™…ç”Ÿäº§ä¸­çš„æŠ€æœ¯éš¾é¢˜ã€‚';
            } else if (score >= 4) {
                level = 'engineer';
                badgeColor = 'linear-gradient(135deg, #3182ce, #2b6cb0)';
                title = 'å·¥ç¨‹å¸ˆ';
                desc = 'æ‚¨å…·å¤‡äº†æ‰å®çš„ä¼ è´¨ç†è®ºåŸºç¡€å’Œä¸€å®šçš„å·¥ç¨‹åº”ç”¨èƒ½åŠ›ï¼Œèƒ½å¤Ÿå¤„ç†å¸¸è§çš„å¹²ç‡¥å·¥è‰ºé—®é¢˜ã€‚';
            }
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('result-badge').style.background = badgeColor;
            document.getElementById('result-badge').textContent = title;
            document.getElementById('result-score').textContent = `${score}/9`;
            document.getElementById('result-title').textContent = title;
            document.getElementById('result-desc').textContent = desc;
            document.getElementById('result-container').classList.add('active');
        }
        
        function retryEvaluation() {
            resetEvaluation();
            document.getElementById('result-container').classList.remove('active');
        }
        
        function resetEvaluation() {
            evaluationAnswers = {};
            
            // é‡ç½®UI
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // é‡ç½®æäº¤æŒ‰é’®
            const submitBtn = document.getElementById('submit-evaluation');
            submitBtn.disabled = true;
        }
        
        function continueLearning() {
            alert("ğŸ‰ æ­å–œå®Œæˆè¯„æµ‹ï¼å»ºè®®æ‚¨å›é¡¾æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­çš„å…³é”®çŸ¥è¯†ç‚¹ã€‚");
            document.getElementById('evaluation-section').classList.remove('active');
            document.getElementById('evaluation-toggle').style.display = 'block';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>


<!-- åº•éƒ¨ä¿¡æ¯æ  -->
<div style="
    text-align: center;
    padding: 20px 30px;
    margin-top: 40px;
    color: #e6f7ff;
    font-size: 0.9rem;
    border-top: 2px solid rgba(0, 180, 255, 0.5);
    background: linear-gradient(135deg, rgba(10, 15, 43, 0.95), rgba(18, 26, 58, 0.9));
    border-radius: 15px 15px 0 0;
    box-shadow: 0 -10px 30px rgba(0, 180, 255, 0.1);
    position: relative;
    overflow: hidden;
    box-sizing: border-box;
    width: 100%;
    max-width: none;
">
    <div style="position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, #00b4ff, #6c8cff, #00b4ff);"></div>
    
    <p style="font-size: 1.3rem; font-weight: bold; margin-bottom: 15px; color: #00b4ff;">
       ç”µæ± æç‰‡å¹²ç‡¥ç³»ç»Ÿè¿›é˜¶ Â© 2025 | ä¼ è´¨å¹²ç‡¥ä»¿çœŸç³»ç»Ÿ | ç‰ˆæœ¬ 1.0 |
      <style="margin-bottom: 12px; color: #cbd5e1;">
        <strong>é‚®ç®±:</strong> xgyanger@qq.com
    </p>
    
    <div style="margin-top: 15px;">
        <span style="color: #ffcc00; font-weight: bold; font-size: 1.1rem;">
            ç‰ˆæƒÂ©2025 AIknow. ä¿ç•™æ‰€æœ‰æƒåˆ© | Copyright Â©2025 AIknow. All rights reserved.
        </span>
    </div>
</div>




</body>
</html>