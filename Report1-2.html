<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å®è®­å¤§çº²ï¼šå·¥ç¨‹é‡çº²é€»è¾‘æ ¡æ ¸</title>
    <style>
        :root { --blue: #38bdf8; --bg: #0f172a; --card: #1e293b; }
        body { font-family: 'PingFang SC', sans-serif; background: var(--bg); color: #e5e7eb; padding: 20px; line-height: 1.6; }
        .guide-box { max-width: 800px; margin: 0 auto; background: var(--card); padding: 25px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.5); }
        h1 { color: var(--blue); text-align: center; border-bottom: 2px solid var(--blue); padding-bottom: 10px; }
        .step { margin: 20px 0; padding: 15px; border: 1px dashed var(--blue); border-radius: 8px; }
        .badge { background: var(--blue); color: var(--bg); padding: 2px 8px; border-radius: 4px; font-weight: bold; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #334155; padding: 10px; text-align: left; }
        th { background: rgba(56, 189, 248, 0.1); }
        .btn-print { display: block; width: 100%; padding: 12px; background: var(--blue); color: #020617; text-align: center; border-radius: 6px; text-decoration: none; font-weight: bold; margin-top: 20px; cursor: pointer; }
        
        /* æ–°å¢ï¼šç”¨æˆ·ä¿¡æ¯æ æ ·å¼ */
        .user-info {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #334155;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: center;
        }
        .user-info label {
            font-weight: bold;
            color: #38bdf8;
            white-space: nowrap;
        }
        .user-info input {
            background: transparent;
            border: none;
            border-bottom: 1px solid var(--blue);
            color: white;
            padding: 5px 8px;
            min-width: 150px;
        }
        .user-info input:focus {
            outline: none;
            border-bottom: 1px solid #4ade80;
        }
        
        /* æ–°å¢ï¼šå¡«å†™åŒºåŸŸæ ·å¼ */
        .answer-input {
            background: transparent;
            border: none;
            border-bottom: 1px dashed var(--blue);
            color: white;
            padding: 5px 8px;
            margin: 0 5px;
            min-width: 200px;
            font-family: 'PingFang SC', sans-serif;
        }
        .answer-input:focus {
            outline: none;
            border-bottom: 2px solid var(--blue);
        }
        .answer-line {
            display: inline-block;
            width: 150px;
            background: transparent;
            border: none;
            border-bottom: 1px dashed var(--blue);
            color: white;
            padding: 2px 5px;
            margin: 0 5px;
            font-family: 'PingFang SC', sans-serif;
        }
        .answer-area {
            width: 100%;
            background: #0f172a;
            color: white;
            border: 1px solid #334155;
            border-radius: 4px;
            padding: 8px;
            margin-top: 10px;
            font-family: 'PingFang SC', sans-serif;
            min-height: 80px;
        }
        .answer-area:focus {
            outline: none;
            border: 1px solid var(--blue);
        }
        
        /* å®è®­æ—¥æœŸæ ·å¼ */
        .date-info {
            color: #94a3b8;
            font-size: 0.9em;
            text-align: center;
            margin-top: 5px;
        }
    </style>
</head>
<body>

<div class="guide-box">
    <h1>ä¸Šæœºä»»åŠ¡ï¼šå·¥ç¨‹ç›´è§‰è®­ç»ƒï¼ˆé‡çº²ç¯‡ï¼‰</h1>
    <p style="text-align: center;">å®è®­å·¥å…·ï¼š<code>01-02-dimension-match.html</code></p>
    <div class="date-info">å®è®­æ—¥æœŸï¼š<span id="current-date"></span></div>
    
    <!-- æ–°å¢ï¼šç”¨æˆ·ä¿¡æ¯æ  -->
    <div class="user-info">
        <div style="flex: 1; min-width: 200px;">
            <label for="student-name">å§“åï¼š</label>
            <input type="text" id="student-name" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å">
        </div>
        <div style="flex: 1; min-width: 200px;">
            <label for="student-id">å­¦å·ï¼š</label>
            <input type="text" id="student-id" placeholder="è¯·è¾“å…¥æ‚¨çš„å­¦å·">
        </div>
        <div style="flex: 1; min-width: 200px; text-align: center;">
            <label for="class-info">ç­çº§ï¼š</label>
            <input type="text" id="class-info" placeholder="è¯·è¾“å…¥ç­çº§" style="width: 120px;">
        </div>
    </div>

    <div class="step">
        <span class="badge">ä»»åŠ¡ 1</span> <strong>åŸºç¡€æ˜ å°„</strong>
        <p>å¯åŠ¨ç¨‹åºï¼Œå®Œæˆ 1-2 å…³ã€‚è¯·å›ç­”ï¼šåœ¨ç‰©ç†ä¸–ç•Œä¸­ï¼Œ[L] ä»£è¡¨é•¿åº¦ï¼Œ[T] ä»£è¡¨æ—¶é—´ã€‚é‚£ä¹ˆ [L]/[T] å¯¹åº”æ¨¡æ‹Ÿå™¨ä¸­çš„å“ªä¸ªé€‰é¡¹ï¼Ÿ</p>
        <p>å›ç­”ï¼š<input type="text" class="answer-input" id="task1-answer" placeholder="è¯·è¾“å…¥æ‚¨çš„ç­”æ¡ˆ"></p>
    </div>

    <div class="step">
        <span class="badge">ä»»åŠ¡ 2</span> <strong>åŠ›ä¸èƒ½çš„é€»è¾‘</strong>
        <p>æŒ‘æˆ˜ç¬¬ 4 å…³ï¼ˆåŠŸä¸èƒ½ï¼‰ã€‚è®°å½•é€šå…³åç³»ç»Ÿç»™å‡ºçš„è§£é‡Šï¼ˆExplainï¼‰ï¼š</p>
        <table>
            <tr>
                <th>ç‰©ç†é‡</th>
                <th>åŸºç¡€é‡çº²ç»„åˆ (M,L,T)</th>
            </tr>
            <tr>
                <td>åŠ› (Force)</td>
                <td>[M][L][T]â»Â²</td>
            </tr>
            <tr>
                <td>åŠŸ (Work)</td>
                <td><input type="text" class="answer-line" id="task2-work" placeholder="å¡«å†™åŠŸçš„é‡çº²ç»„åˆ"></td>
            </tr>
        </table>
    </div>

    <div class="step">
        <span class="badge">ä»»åŠ¡ 3</span> <strong>é€šå…³æŒ‘æˆ˜</strong>
        <p>å°è¯•é€šå…³å…¨è¿‡ç¨‹ï¼Œç›´åˆ°è·å¾—"ç™½é“¶å·¥ç¨‹å¸ˆ"ç§°å·ã€‚è®°å½•ä½ çš„æœ€ç»ˆé€šå…³æ„Ÿæ‚Ÿï¼ˆä¾‹å¦‚ï¼šå“ªäº›ç‰©ç†é‡çš„ç»„åˆæœ€å®¹æ˜“è®©ä½ äº§ç”Ÿæ··æ·†ï¼Ÿï¼‰ï¼š</p>
        <textarea class="answer-area" id="task3-reflection" placeholder="è¯·åœ¨æ­¤å¤„å¡«å†™æ‚¨çš„é€šå…³æ„Ÿæ‚Ÿ..."></textarea>
    </div>

    <div class="step">
        <span class="badge">æ€è€ƒé¢˜</span>
        <p>å¦‚æœä¸€ä¸ªæµé‡è®¡è¾“å‡ºçš„å•ä½æ˜¯ mÂ³/sï¼Œå®ƒçš„é‡çº²ç»„åˆæ˜¯ [L]Â³[T]â»Â¹ã€‚è¯·åœ¨æ¸¸æˆä¸­å°è¯•æ¨ç®—ï¼šå¦‚æœå°†æµé‡ä¹˜ä»¥æµä½“å¯†åº¦ [M][L]â»Â³ï¼Œå¾—åˆ°çš„æ–°ç‰©ç†é‡é‡çº²æ˜¯ä»€ä¹ˆï¼Ÿå¯¹åº”çš„å·¥ç¨‹å•ä½æ˜¯ä»€ä¹ˆï¼Ÿ</p>
        <p>æ–°ç‰©ç†é‡é‡çº²ï¼š<input type="text" class="answer-input" id="question-dimension" placeholder="ä¾‹å¦‚ï¼š[M][L]Â³[T]â»Â¹"></p>
        <p>å¯¹åº”å·¥ç¨‹å•ä½ï¼š<input type="text" class="answer-input" id="question-unit" placeholder="ä¾‹å¦‚ï¼škgÂ·mÂ³/s"></p>
        <p>æ‚¨çš„æ¨ç†è¿‡ç¨‹ï¼š</p>
        <textarea class="answer-area" id="question-reasoning" placeholder="è¯·åœ¨æ­¤å¤„å¡«å†™æ‚¨çš„æ¨ç†è¿‡ç¨‹..."></textarea>
    </div>

    <button class="btn-print" onclick="saveAndPrint()">ğŸ“¥ æ‰“å°å®è®­æŠ¥å‘Š (æˆ–ä¿å­˜ä¸ºPDF)</button>
</div>

<script>
    // æ—¥æœŸæ ¼å¼åŒ–å‡½æ•°
    function formatDate(date) {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        return `${year}å¹´${month}æœˆ${day}æ—¥`;
    }
    
    // è®¾ç½®å½“å‰æ—¥æœŸ
    document.getElementById('current-date').textContent = formatDate(new Date());
    
    // è‡ªåŠ¨å¡«å†™å½“å‰æ—¥æœŸ
    document.addEventListener('DOMContentLoaded', function() {
        // æ—¥æœŸå·²åœ¨ä¸Šé¢è®¾ç½®ï¼Œæ­¤å¤„ä¸éœ€è¦é‡å¤è®¾ç½®
        
        // åŠ è½½ä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯
        const savedName = localStorage.getItem('dimension2_student_name');
        const savedId = localStorage.getItem('dimension2_student_id');
        const savedClass = localStorage.getItem('dimension2_class_info');
        const savedTask1 = localStorage.getItem('dimension2_task1');
        const savedTask2 = localStorage.getItem('dimension2_task2');
        const savedTask3 = localStorage.getItem('dimension2_task3');
        const savedQuestionDim = localStorage.getItem('dimension2_question_dim');
        const savedQuestionUnit = localStorage.getItem('dimension2_question_unit');
        const savedQuestionReasoning = localStorage.getItem('dimension2_question_reasoning');
        
        if (savedName) document.getElementById('student-name').value = savedName;
        if (savedId) document.getElementById('student-id').value = savedId;
        if (savedClass) document.getElementById('class-info').value = savedClass;
        if (savedTask1) document.getElementById('task1-answer').value = savedTask1;
        if (savedTask2) document.getElementById('task2-work').value = savedTask2;
        if (savedTask3) document.getElementById('task3-reflection').value = savedTask3;
        if (savedQuestionDim) document.getElementById('question-dimension').value = savedQuestionDim;
        if (savedQuestionUnit) document.getElementById('question-unit').value = savedQuestionUnit;
        if (savedQuestionReasoning) document.getElementById('question-reasoning').value = savedQuestionReasoning;
        
        // ä¿å­˜ç”¨æˆ·ä¿¡æ¯
        document.getElementById('student-name').addEventListener('input', function() {
            localStorage.setItem('dimension2_student_name', this.value);
        });
        
        document.getElementById('student-id').addEventListener('input', function() {
            localStorage.setItem('dimension2_student_id', this.value);
        });
        
        document.getElementById('class-info').addEventListener('input', function() {
            localStorage.setItem('dimension2_class_info', this.value);
        });
        
        // ä¿å­˜ä»»åŠ¡ç­”æ¡ˆ
        document.getElementById('task1-answer').addEventListener('input', function() {
            localStorage.setItem('dimension2_task1', this.value);
        });
        
        document.getElementById('task2-work').addEventListener('input', function() {
            localStorage.setItem('dimension2_task2', this.value);
        });
        
        document.getElementById('task3-reflection').addEventListener('input', function() {
            localStorage.setItem('dimension2_task3', this.value);
        });
        
        document.getElementById('question-dimension').addEventListener('input', function() {
            localStorage.setItem('dimension2_question_dim', this.value);
        });
        
        document.getElementById('question-unit').addEventListener('input', function() {
            localStorage.setItem('dimension2_question_unit', this.value);
        });
        
        document.getElementById('question-reasoning').addEventListener('input', function() {
            localStorage.setItem('dimension2_question_reasoning', this.value);
        });
    });
    
    // ä¿å­˜å¹¶æ‰“å°
    function saveAndPrint() {
        // æ£€æŸ¥å¿…å¡«é¡¹
        const name = document.getElementById('student-name').value;
        const id = document.getElementById('student-id').value;
        
        if (!name.trim() || !id.trim()) {
            alert('è¯·å…ˆå¡«å†™å§“åå’Œå­¦å·ï¼');
            return;
        }
        
        // ä¿å­˜æ‰€æœ‰æ•°æ®åˆ°localStorage
        const data = {
            name: name,
            id: id,
            class: document.getElementById('class-info').value,
            task1: document.getElementById('task1-answer').value,
            task2: document.getElementById('task2-work').value,
            task3: document.getElementById('task3-reflection').value,
            questionDim: document.getElementById('question-dimension').value,
            questionUnit: document.getElementById('question-unit').value,
            questionReasoning: document.getElementById('question-reasoning').value,
            date: document.getElementById('current-date').textContent
        };
        
        localStorage.setItem('dimension2_full_data', JSON.stringify(data));
        
        // æ˜¾ç¤ºä¿å­˜æˆåŠŸæç¤º
        alert('å®è®­æ•°æ®å·²ä¿å­˜ï¼ç°åœ¨å¼€å§‹æ‰“å°æŠ¥å‘Š...');
        
        // å»¶è¿Ÿä¸€ç‚¹æ—¶é—´å†æ‰“å°ï¼Œç¡®ä¿æç¤ºæ¡†æ¶ˆå¤±
        setTimeout(() => {
            window.print();
        }, 100);
    }
    
    // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æ˜¯å¦æœ‰æ•°æ®éœ€è¦æ¢å¤
    window.addEventListener('load', function() {
        const savedData = localStorage.getItem('dimension2_full_data');
        if (savedData) {
            const data = JSON.parse(savedData);
            console.log('å·²æ¢å¤ä¿å­˜çš„æ•°æ®:', data);
        }
    });
</script>

</body>
</html>